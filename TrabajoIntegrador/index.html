<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Gesti√≥n de Biblioteca</title>
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <header>
    <h1>üìö Sistema de Gesti√≥n de Biblioteca</h1>
  </header>

  <main>
    <section id="menuPrincipal" class="menu visible">
      <h2>Men√∫ Principal</h2>
      <button onclick="mostrarMenu('menuLibros')">1. Libros</button>
      <button onclick="mostrarMenu('menuUsuarios')">2. Usuarios</button>
      <button onclick="mostrarMenu('menuPrestamos')">3. Pr√©stamos</button>
      <button onclick="salir()">0. Salir</button>
    </section>

    <!-- Submen√∫ Libros -->
    <section id="menuLibros" class="menu">
      <h2>Men√∫ Libros</h2>
      <button onclick="verTodosLosLibros()">a. Ver todos los libros</button>
      <button onclick="ordenarLibrosDOM()">b. Ordenar libros</button>
      <button onclick="buscarLibroDOM()">c. Buscar libro</button>
      <button onclick="mostrarMenu('menuLibrosAvanzado')">d. Opciones avanzadas</button>
      <button onclick="mostrarAdminPrompt('menuLibrosAdmin')">e. Solo administrador</button>
      <button onclick="volver('menuLibros')">x. Volver</button>
    </section>

    <section id="menuLibrosAvanzado" class="menu">
      <h2>Libro - Opciones Avanzadas</h2>
      <button onclick="librosConPalabrasEnTitulo(libros)">1. Filtrar por palabras en t√≠tulo</button>
      <button onclick="calcularEstadisticas()">2. Ver estad√≠sticas</button>
      <button onclick="volver('menuLibrosAvanzado')">0. Volver</button>
    </section>

    <section id="menuLibrosAdmin" class="menu">
      <h2>Libro - Opciones de Administrador</h2>
      <button onclick="formularioAgregarLibro()">1. Agregar libro</button>
      <button onclick="formularioBorrarLibro()">2. Borrar libro</button>
      <button onclick="volver('menuLibrosAdmin')">0. Volver</button>
    </section>

    <!-- Submen√∫ Usuarios -->
    <section id="menuUsuarios" class="menu">
      <h2>Men√∫ Usuarios</h2>
      <button onclick="registrarUsuarioDOM()">1. Registrar usuario</button>
      <button onclick="buscarUsuarioDOM()">2. Buscar por email</button>
      <button onclick="mostrarAdminPrompt('menuUsuariosAdmin')">3. Solo administrador</button>
      <button onclick="volver('menuUsuarios')">0. Volver</button>
    </section>

    <section id="menuUsuariosAdmin" class="menu">
      <h2>Usuario - Opciones de Administrador</h2>
      <button onclick="mostrarTodosLosUsuarios()">1. Ver todos los usuarios</button>
      <button onclick="formularioBorrarUsuario()">2. Borrar usuario</button>
      <button onclick="volver('menuUsuariosAdmin')">0. Volver</button>
    </section>

    <!-- Submen√∫ Pr√©stamos -->
    <section id="menuPrestamos" class="menu">
      <h2>Men√∫ Pr√©stamos</h2>
      <button onclick="formularioPrestarLibro()">1. Realizar pr√©stamo</button>
      <button onclick="formularioDevolverLibro()">2. Devolver libro</button>
      <button onclick="generarReporteLibros()">3. Ver reporte</button>
      <button onclick="volver('menuPrestamos')">0. Volver</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 - Trabajo Final de JavaScript</p>
  </footer>

  <script src="script.js"></script>
  <script>
    function mostrarMenu(id) {
      document.querySelectorAll('.menu').forEach(m => m.classList.remove('visible'));
      document.getElementById(id).classList.add('visible');
    }

    function volver(actual) {
      document.getElementById(actual).classList.remove('visible');
      document.getElementById('menuPrincipal').classList.add('visible');
    }

    function mostrarAdminPrompt(id) {
      const esAdmin = prompt('¬øEs administrador? (si/no)').toLowerCase();
      if (esAdmin === 'si') {
        mostrarMenu(id);
      } else {
        alert('Acceso denegado.');
      }
    }

    function salir() {
      alert('Saliendo del sistema...');
      document.body.innerHTML = '<h1 style="text-align:center; margin-top:20vh;">Sistema cerrado</h1>';
    }
  </script>
</body>
</html>
